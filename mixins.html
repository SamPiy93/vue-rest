<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mixins | Vue Rest</title>
    <meta name="description" content="A fast way to make REST cruds">
    
    
    <link rel="preload" href="/vue-rest/assets/css/styles.9b72c029.css" as="style"><link rel="preload" href="/vue-rest/assets/js/app.9b72c029.js" as="script"><link rel="preload" href="/vue-rest/assets/js/5.e7a8ed94.js" as="script"><link rel="prefetch" href="/vue-rest/assets/js/2.9d3f32e1.js"><link rel="prefetch" href="/vue-rest/assets/css/1.styles.ea91ead0.css"><link rel="prefetch" href="/vue-rest/assets/js/1.ea91ead0.js"><link rel="prefetch" href="/vue-rest/assets/css/2.styles.9d3f32e1.css"><link rel="prefetch" href="/vue-rest/assets/js/3.a85b91f5.js"><link rel="prefetch" href="/vue-rest/assets/js/4.54139bf1.js"><link rel="prefetch" href="/vue-rest/assets/js/6.d4f91fec.js"><link rel="prefetch" href="/vue-rest/assets/js/7.c9011dfb.js">
    <link rel="stylesheet" href="/vue-rest/assets/css/1.styles.ea91ead0.css"><link rel="stylesheet" href="/vue-rest/assets/css/2.styles.9d3f32e1.css"><link rel="stylesheet" href="/vue-rest/assets/css/styles.9b72c029.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-rest/" class="home-link router-link-active"><!----> <span class="site-name">Vue Rest</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-rest/started.html" class="nav-link">Getting started</a></div><div class="nav-item"><a href="/vue-rest/prototype.html" class="nav-link">$api</a></div><div class="nav-item"><a href="/vue-rest/mixins.html" class="nav-link router-link-exact-active router-link-active">Mixins</a></div> <a href="https://github.com/kimuraz/vue-rest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-rest/started.html" class="nav-link">Getting started</a></div><div class="nav-item"><a href="/vue-rest/prototype.html" class="nav-link">$api</a></div><div class="nav-item"><a href="/vue-rest/mixins.html" class="nav-link router-link-exact-active router-link-active">Mixins</a></div> <a href="https://github.com/kimuraz/vue-rest" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vue-rest/intro.html" class="sidebar-link">Vue Rest Docs</a></li><li><a href="/vue-rest/started.html" class="sidebar-link">Getting Started</a></li><li><a href="/vue-rest/prototype.html" class="sidebar-link">The $api prototype</a></li><li><a href="/vue-rest/mixins.html" class="active sidebar-link">Mixins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-rest/mixins.html#apiform" class="sidebar-link">ApiForm</a></li><li class="sidebar-sub-header"><a href="/vue-rest/mixins.html#apilist" class="sidebar-link">ApiList</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="mixins"><a href="#mixins" aria-hidden="true" class="header-anchor">#</a> Mixins</h1> <h2 id="apiform"><a href="#apiform" aria-hidden="true" class="header-anchor">#</a> ApiForm</h2> <h3 id="intro"><a href="#intro" aria-hidden="true" class="header-anchor">#</a> Intro</h3> <p>The ApiForm is responsible for implementing the methods for API requesting that usually a form does.</p> <p>It requires a <code>route prop</code> and, for convenience, can handle two others props <code>objId</code> and <code>obj</code>. Both props are handled in mixin's <code>created()</code> hook, and the <code>obj</code> sets the <code>requestObj</code> data to its value and the <code>objId</code> loads a new instance of a object to <code>requestObj</code> returned from API in the <code>load()</code> method.</p> <blockquote><p>See: <a href="https://vuejs.org/v2/guide/instance.html#Instance-Lifecycle-Hooks" target="_blank" rel="noopener noreferrer">Vue Lifecycle Hooks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="methods"><a href="#methods" aria-hidden="true" class="header-anchor">#</a> Methods</h3> <p>The following methods are implemented through this mixin:</p> <p><code>load(id, errCallback)</code>:</p> <ul><li><p>Params: id, errCallback</p></li> <li><p>Functionality: It does a GET request to the given route /id and loads the response.data to the requestObj data.</p></li></ul> <p><code>save(callback, errCallback)</code>:</p> <ul><li>Params: callback, errCallback</li> <li>Functionality: It passes the received callback and errCallback to one of the following methods:
<ul><li>If the <code>requestObj</code> has an id <code>(requestObj.id)</code>:
<ul><li><code>update(callback, errCallback)</code>:
<ul><li>Params: callback, errCallback</li> <li>Functionality: It uses the $api prototype to do a PATCH requests using the given route and passing the requestObj as payload, passing the success response to the callback function and if there's any error it passes the it to the errCallback function.</li></ul></li></ul></li> <li>Otherwise:
<ul><li>create(callback, errCallback):
<ul><li>Params: callback, errCallback</li> <li>Functionality: It does the same thing as the update method but instead of a PATCH it does a POST to the API.`</li></ul></li></ul></li></ul></li></ul> <h3 id="using-it"><a href="#using-it" aria-hidden="true" class="header-anchor">#</a> Using it</h3> <blockquote><p>Note that you need to pass a <code>route</code> prop or override the prop as:</p> <p><code>route: { required: false, default: 'your-route' }</code></p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>save(showOk, showErr)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>requestObj.firstName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>requestObj.lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            Add
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApiForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-rest'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'personForm'</span><span class="token punctuation">,</span>
    mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>ApiForm<span class="token punctuation">]</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">showOk</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Sucessfully saved'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">showErr</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`An error ocurred: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="apilist"><a href="#apilist" aria-hidden="true" class="header-anchor">#</a> ApiList</h2> <h3 id="intro-2"><a href="#intro-2" aria-hidden="true" class="header-anchor">#</a> Intro</h3> <p>The ApiList is responsible for implementing a route mandatory prop and the three following methods to load and handle list actions:</p> <h3 id="methods-2"><a href="#methods-2" aria-hidden="true" class="header-anchor">#</a> Methods</h3> <p><code>loadList(callback, errCallback)</code>:</p> <ul><li>Params: callback, errCallback</li> <li>Functionality: It uses $api prototype to do a GET request in the given route and pass the response for the callback function if the response was successfully made, otherwise passes the error to the errCallback function.</li></ul> <p><code>deleteObj(objId, callback, errCallback)</code>:</p> <ul><li>Params: objId, callback, errCallback</li> <li>Functionality: It uses $api prototype to do a DELETE request in the given route concatenated with the objIdand passes the response for the callback function if the response was successfully made, then it emits a delete event with the objId.</li></ul> <p><code>editObj(obj)</code>:</p> <ul><li>Params: obj</li> <li>Functionality: It just emits an edit event with the given obj in its value.</li></ul> <blockquote><p>Note: You should probably handle the emitted value to pass to a ApiForm instance</p></blockquote> <h3 id="using-it-2"><a href="#using-it-2" aria-hidden="true" class="header-anchor">#</a> Using it</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>p in people<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>p.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            {{ p.firstName }} {{ p.lastName }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApiList <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-rest'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'peopleList'</span><span class="token punctuation">,</span>
    mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>ApiList<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            people<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loadPeople<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>showErr<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">loadPeople</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">showErr</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`An error ocurred </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/kimuraz/vue-rest/edit/master/docs/mixins.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue-rest/prototype.html" class="prev">
          The $api prototype
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/vue-rest/assets/js/5.e7a8ed94.js" defer></script><script src="/vue-rest/assets/js/app.9b72c029.js" defer></script>
  </body>
</html>
